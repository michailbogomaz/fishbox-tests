ОСНОВНЫЕ ПРАВИЛА

1. ЯЗЫК ОБЩЕНИЯ
   Отвечать ТОЛЬКО на русском языке
   Дополнительно: перед запуском команды `check` перечитать файл `.cursor/assistant-adjustments.md` — он содержит актуальные уточнения процесса, обязательные к исполнению наравне с этими инструкциями.
   **До начала каких-либо проверок** вывести отдельным блоком подтверждение, что полностью прочитал:
   - `.cursor/checklist-instrusctions.md`
   - `.cursor/checklist.md`
   - `.cursor/assistant-adjustments.md`
     Без этого подтверждения к дальнейшим шагам переходить запрещено.

2. МЕТОД ПРОВЕРКИ КОДА - ОПТИМИЗИРОВАННЫЙ ПОДХОД
   РАЗРЕШЕНО и РЕКОМЕНДУЕТСЯ использовать команды поиска (grep, find, rg) для простых проверок и только для них (**ТИП B:**)
   Для сложных проверок использовать read_file и codebase_search
   Анализировать содержимое файлов детально, но только для измененных частей кода

3. ИСТОЧНИКИ ЧЕКЛИСТОВ
   получить содержимое тут .cursor/checklist.md

4. ОБРАБОТКА ЧЕКЛИСТОВ
   Каждый URL содержит пронумерованный список пунктов для проверки с детальной информацией о том, как нужно проверять
   Проверить ВСЕ пункты из ВСЕХ URL (сейчас только 1 url)

5. КЛАССИФИКАЦИЯ ПРОВЕРОК ПО ТИПАМ
   **ТИП A:** Глобальные проверки (выполнять 1 раз для всего проекта)
   **ТИП B:** Простые проверки через grep (для всех измененных файлов)
   **ТИП C:** Полные файловые проверки (читать файлы целиком БЕЗ лимита; сюда перенесены все бывшие типы C/D/E)

6. ПОЛУЧЕНИЕ СПИСКА ФАЙЛОВ КОММИТОВ
   ШАГ 1: Получить список файлов из коммита
   git log -COMMINTS_COUNT --name-only --pretty=format: | grep -v '^$'

7. ОПТИМИЗИРОВАННЫЙ АЛГОРИТМ ПРОВЕРКИ

ШАГ 1: ПОДГОТОВКА

1. Получить инструкции .cursor/checklist-instrusctions.md, .cursor/assistant-adjustments.md
2. Получить все чеклисты .cursor/checklists.md
3. Определить список файлов из коммитов (последние N коммитов)

ШАГ 2: ГЛОБАЛЬНЫЕ ПРОВЕРКИ (ТИП A)

1. Запустить read_lints для всех измененных файлов ОДИН РАЗ
2. Вывести общий результат

ШАГ 3: ПРОСТЫЕ ПРОВЕРКИ (ТИП B)
Для каждого паттерна (русские комментарии, any, console.log, uuid):

1. Использовать grep для поиска в измененных файлах
2. Вывести найденные проблемы

ШАГ 4: ПОЛНЫЕ ФАЙЛОВЫЕ ПРОВЕРКИ (ТИП C)
Для каждого измененного файла, который попадает под пункт типа C:

1. Читать файл ЦЕЛИКОМ без использования limit в read_file — даже если раньше требовалось анализировать только дифф.
2. Проверять все многострочные конструкции полностью (функции, вызовы функций, декораторы, конфигурационные объекты) до закрывающих скобок.
3. Фиксировать новые экспорты, импорты, типы и их использование по всему файлу.
4. Стиль и требования проверяются для всей структуры, а не только для новых строк.

5. УПРАВЛЕНИЕ ПРОЦЕССОМ
   "После каждого пункта НЕ останавливаться, но выводить результат"
   Перепроверять инструкцию после каждого пункта

6. ОБРАБОТКА GRAPHQL ПУНКТОВ
   Если пункт связан с GraphQL (Mutation, Query, Schema), но микросервис НЕ использует GraphQL - ПРОПУСТИТЬ пункт
   Перед началом проверок проанализировать: использует ли микросервис GraphQL схему или только REST

7. ТЕХНИЧЕСКИЕ ОГРАНИЧЕНИЯ
   Использовать только предоставленные инструменты

8. ОТЧЕТНОСТЬ
   Выводить результаты с маркерами: ✅ ПРОЙДЕН / ❌ НЕ ПРОЙДЕН для каждого пункта
   При этом если пункт пропущен - нужно писать и указывать причину пропуска
   В итоговом результате я хочу видеть все пункты
   Когда проверяется тот или иной пукнт сразу нужно писать все что ты делаешь например:
   - Перед запуском проверки пишу:  
     `Проверяю пункт N (тип …) — .cursor/checklist.md строка X`. Тут обязательны сслыка для прямого перехода к тексту пенкта
   - Указываю инструмент/команду (например, `rg`, `read_lints`, `git show`), цитирую её в кавычках или бэктиках.
   - После выполнения команды описываю результат и даю статус: `Статус: ✅ ПРОЙДЕН / ❌ НЕ ПРОЙДЕН / ⏭️ Пропущен (причина)`.
   - Если пункт неприменим, обязательно объясняю почему.

9. СТРОГИЕ ПРИНЦИПЫ
   НИКОГДА не делать предположений
   НИКОГДА не экстраполировать результаты
   НИКОГДА не использовать "вероятно", "скорее всего"
   ВСЕГДА проверять каждый случай отдельно
   НИКОГДА не врать и не обманывать

10. БАЛАНС МЕЖДУ ЭФФЕКТИВНОСТЬЮ И ТОЧНОСТЬЮ

- Для простых проверок использовать grep - это быстро и точно (**ТИП B:**)
- Читать файлы полностью только когда нужен контекст для сложных проверок (**ТИП C:**)

## ПРИМЕЧАНИЯ

- Для простых проверок (тип B) использовать grep
- Для глобальных проверок (тип A) выполнять один раз для всех файлов
- Для полных файловых проверок (тип C) читать файлы ЦЕЛИКОМ без limit для многострочных конструкций
